# go-web-test

## Install path
Make sure you clone this repo in the correct location and follow go protocol.


The install path, in `*nix` systems is - `~/go/src/github.com/onionalive/go-web-test`.
Further reading on this can be found [here](https://astaxie.gitbooks.io/build-web-application-with-golang/en/02.1.html).

## Requirements

*npm*
*yarn*

`yarn` is a package manager on top on npm. It's similar, but with a lot of nice additional features.

If you already have npm installed, you can install yarn via:
```bash
$ npm install -g yarn
```

*go*

This ones obvious!

## Setup

*Frontend*

Youll need to run a few commands from the `frontend` directory, so cd into that

```bash
$ cd frontend
$ yarn install // install required packages
$ yarn run build // build src files and output to dist folder
```

This should install and build everything. As noted, the output will be in the dist folder - this is what go will be loading

*backend*

This is the easier part, you have a few options here

1) Running from source

cd back into the project root, and run
```bash
$ go run main.go
```

This will execute the go code in that terminal window, and serve the files

2) Compiling and executing from executable

Again, cd back into project root, then run
```bash
$ go build
```

This will create an executable in the project root called `go-web-test`. You should be able to double click this, it should open its own terminal window and serve the same files

## Loading the page

After following the setup instructions, simgply navigate to `http://localhost:9090` and you should see the page!

If you want to change the port, you can change that in `main.go` on the http.ListenAndServe function call.

## Commands
Basic go commands:

The descriptions for the below commands have been ~~stolen~~ borrowed from [here](https://astaxie.gitbooks.io/build-web-application-with-golang/en/01.3.html).

### Build

*Example:*
```bash
$ go build
```

This command is for compiling tests. It will compile packages and dependencies if it's necessary.

- If the package is not the `main` package such as `mymath` in section 1.2, nothing will be generated after you execute `go build`. If you need the package file `.a` in `$GOPATH/pkg`, use `go install` instead.
- If the package is the `main` package, it will generate an executable file in the same folder. If you want the file to be generated in `$GOPATH/bin`, use `go install` or `go build -o ${PATH_HERE}/a.exe.`
- If there are many files in the folder, but you just want to compile one of them, you should append the file name after `go build`. For example, `go build a.go`. `go build` will compile all the files in the folder.
- You can also assign the name of the file that will be generated. For instance, in the `mathapp` project (in section 1.2), using `go build -o astaxie.exe` will generate `astaxie.exe` instead of `mathapp.exe`. The default name is your folder name (non-main package) or the first source file name (main package).

(According to [The Go Programming Language Specification](https://golang.org/ref/spec), package names should be the name after the word `package` in the first line of your source files. It doesn't have to be the same as the folder name, and the executable file name will be your folder name by default.)

- `go build` ignores files whose names start with `_` or `.`.
- If you want to have different source files for every operating system, you can name files with the system name as a suffix. Suppose there are some source files for loading arrays. They could be named as follows:

	array_linux.go | array_darwin.go | array_windows.go | array_freebsd.go

`go build` chooses the one that's associated with your operating system. For example, it only compiles array_linux.go in Linux systems, and ignores all the others.

### Clean
```bash
$ go clean
```

This command is for cleaning files that are generated by compilers, including the following files:

	_obj/            // old directory of object, left by Makefiles
	_test/           // old directory of test, left by Makefiles
	_testmain.go     // old directory of gotest, left by Makefiles
	test.out         // old directory of test, left by Makefiles
	build.out        // old directory of test, left by Makefiles
	*.[568ao]        // object files, left by Makefiles

	DIR(.exe)        // generated by go build
	DIR.test(.exe)   // generated by go test -c
	MAINFILE(.exe)   // generated by go build MAINFILE.go

I usually use this command to clean up my files before I upload my project to Github. These are useful for local tests, but useless for version control.

### Install
```bash
$ go install
```

This command compiles all packages and generates files, then moves them to `$GOPATH/pkg` or `$GOPATH/bin`.

### godoc
```bash
$ godoc
```

So how do we look up package information in documentation? For instance, if you want to get more details about the `builtin` package, use the `godoc builtin` command. Similarly, use the `godoc net/http` command to look up the `http` package documentation. If you want to see more details about specific functions, use the `godoc fmt Printf` and `godoc -src fmt Printf` commands to view the source code.

Execute the `godoc -http=:8080` command, then open `127.0.0.1:8080` in your browser. You should see a localized golang.org. It can not only show the standard packages' information, but also packages in your `$GOPATH/pkg`. It's great for people who are suffering from the Great Firewall of China.